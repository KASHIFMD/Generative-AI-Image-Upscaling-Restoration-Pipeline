<mxfile host="65bd71144e">
    <diagram id="PHJKOffof5LnZd3YNMgV" name="FinalSystemDesign">
        <mxGraphModel dx="1208" dy="2389" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" background="#FFFFFF" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="74" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.005;entryY=0.63;entryDx=0;entryDy=0;startArrow=classic;startFill=1;entryPerimeter=0;" parent="1" source="175" target="127" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="906" y="-304" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="78" value="" style="edgeStyle=none;html=1;" parent="1" source="79" target="84" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="83" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="432.5" y="-390" width="277.5" height="175.39247933884297" as="geometry"/>
                </mxCell>
                <mxCell id="179" value="" style="group" parent="83" vertex="1" connectable="0">
                    <mxGeometry width="277.5" height="175.39247933884297" as="geometry"/>
                </mxCell>
                <mxCell id="84" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Content_Image_Optimization&lt;/font&gt;&lt;div&gt;&lt;font size=&quot;3&quot;&gt;CIO&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font size=&quot;3&quot;&gt;(CPU)&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="179" vertex="1">
                    <mxGeometry width="275" height="173.5537190082645" as="geometry"/>
                </mxCell>
                <mxCell id="85" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Docker.svg;container=1;" parent="179" vertex="1" collapsed="1">
                    <mxGeometry x="227.5" y="135.39247933884297" width="50" height="40" as="geometry">
                        <mxRectangle x="227.5" y="135.39247933884297" width="46.53331441034556" height="38.15731781648336" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="177" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Async Dispatcher&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="179" vertex="1">
                    <mxGeometry x="53.75" y="120" width="167.5" height="33.55" as="geometry"/>
                </mxCell>
                <mxCell id="89" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;update_flag_in_db&lt;/span&gt;" style="dashed=0;outlineConnect=0;html=1;align=center;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.webicons.mongodb;gradientColor=#DFDEDE" parent="1" vertex="1">
                    <mxGeometry x="535" y="36" width="70" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="91" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;elbow=vertical;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="84" target="170" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="585" y="-120" as="sourcePoint"/>
                        <mxPoint x="660" y="-160" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="100" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;S3 Bucket&lt;/font&gt;" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.s3;fillColor=#E05243;gradientColor=none;" parent="1" vertex="1">
                    <mxGeometry x="1547" y="-248" width="96" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="101" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="94" target="100" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="120" value="&lt;h3 style=&quot;line-height: 30%;&quot;&gt;&lt;p style=&quot;font-weight: 400;&quot;&gt;&lt;font style=&quot;font-size: 18px; line-height: 30%;&quot;&gt;System Design Document&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;font-weight: 400;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;font-size: 18px; line-height: 30%;&quot;&gt;Authored by: Mohammed Kashif&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;font-weight: 400;&quot;&gt;&lt;font style=&quot;font-size: 18px; line-height: 30%;&quot;&gt;Date: June 21, 2025&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;font-weight: 400;&quot;&gt;&lt;font style=&quot;font-size: 18px; line-height: 30%;&quot;&gt;Version: 1.0&lt;/font&gt;&lt;/p&gt;&lt;/h3&gt;&lt;h3&gt;&lt;font face=&quot;Times New Roman&quot; style=&quot;font-size: 18px;&quot;&gt;&lt;b style=&quot;&quot;&gt;Problem: &lt;/b&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;Bad quality of images hampers business outcomes&lt;/span&gt;&lt;/font&gt;&lt;/h3&gt;&lt;h3&gt;&lt;/h3&gt;&lt;h3&gt;&lt;font style=&quot;font-size: 18px;&quot; face=&quot;Times New Roman&quot;&gt;&lt;b style=&quot;&quot;&gt;Solutio&lt;font style=&quot;&quot;&gt;n: &lt;/font&gt;&lt;/b&gt;&lt;span style=&quot;font-weight: normal;&quot;&gt;Developed an AI-powered solution for image enhancement and updating it at desired location.&lt;/span&gt;&lt;/font&gt;&lt;/h3&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="290" y="-860" width="560" height="220" as="geometry"/>
                </mxCell>
                <mxCell id="122" value="&lt;h1&gt;&lt;font&gt;Generative-AI-Image-Upscaling-Restoration-Pipeline&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="290" y="-950" width="560" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="125" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="407" y="-560" width="326" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="82" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.mq_message_queue;" parent="125" vertex="1">
                    <mxGeometry x="281" width="45" height="49.8" as="geometry"/>
                </mxCell>
                <mxCell id="188" value="" style="group" parent="125" vertex="1" connectable="0">
                    <mxGeometry width="326" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="79" value="&lt;h1&gt;&lt;b style=&quot;line-height: 50%;&quot;&gt;Message Broker (RabbitMQ)&lt;/b&gt;&lt;/h1&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;gradientColor=none;fillColor=#FFFFCC;labelPosition=center;verticalLabelPosition=top;verticalAlign=bottom;" parent="188" vertex="1">
                    <mxGeometry width="326" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="80" value="&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 18px; color: rgb(0, 0, 0);&quot;&gt;image_enhance_process&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 18px; color: rgb(0, 0, 0);&quot;&gt;image_enhance_update&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 18px; color: rgb(0, 0, 0);&quot;&gt;image_enhance_products&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="188" vertex="1">
                    <mxGeometry x="6" width="267" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="126" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=api" parent="1" vertex="1">
                    <mxGeometry x="1030" y="-223" width="50" height="48" as="geometry"/>
                </mxCell>
                <mxCell id="130" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.995;exitY=0.63;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" parent="1" source="127" target="94" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="127" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=api" parent="1" vertex="1">
                    <mxGeometry x="1030" y="-334" width="50" height="48" as="geometry"/>
                </mxCell>
                <mxCell id="128" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=api" parent="1" vertex="1">
                    <mxGeometry x="1031" y="-106" width="50" height="48" as="geometry"/>
                </mxCell>
                <mxCell id="135" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="1157" y="-349" width="283.53999999999996" height="90.0035294117647" as="geometry"/>
                </mxCell>
                <mxCell id="94" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Content_Image_Optimization&lt;/font&gt;&lt;div&gt;&lt;font size=&quot;3&quot;&gt;CIO&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(63, 63, 63);&quot;&gt;&lt;font size=&quot;3&quot;&gt;(GPU_SERVER_1)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="135" vertex="1">
                    <mxGeometry width="260" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="95" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Docker.svg;container=1;" parent="135" vertex="1" collapsed="1">
                    <mxGeometry x="210.0014285714285" y="50.0035294117647" width="50" height="40" as="geometry">
                        <mxRectangle x="213.57142857142856" y="81.5735294117647" width="14.856484762579731" height="12.182317505315378" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="136" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="1157" y="-238" width="260.0014285714285" height="90.0035294117647" as="geometry"/>
                </mxCell>
                <mxCell id="137" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Content_Image_Optimization&lt;/font&gt;&lt;div&gt;&lt;font size=&quot;3&quot;&gt;CIO&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(63, 63, 63);&quot;&gt;&lt;font size=&quot;3&quot;&gt;(GPU_SERVER_2)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="136" vertex="1">
                    <mxGeometry width="260" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="138" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Docker.svg;container=1;" parent="136" vertex="1" collapsed="1">
                    <mxGeometry x="210.0014285714285" y="50.0035294117647" width="50" height="40" as="geometry">
                        <mxRectangle x="213.57142857142856" y="81.5735294117647" width="14.856484762579731" height="12.182317505315378" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="139" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="1157" y="-120" width="260.0014285714285" height="90.0035294117647" as="geometry"/>
                </mxCell>
                <mxCell id="140" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Content_Image_Optimization&lt;/font&gt;&lt;div&gt;&lt;font size=&quot;3&quot;&gt;CIO&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(63, 63, 63);&quot;&gt;&lt;font size=&quot;3&quot;&gt;(GPU_SERVER_N)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="139" vertex="1">
                    <mxGeometry width="260" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="141" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Docker.svg;container=1;" parent="139" vertex="1" collapsed="1">
                    <mxGeometry x="210.0014285714285" y="50.0035294117647" width="50" height="40" as="geometry">
                        <mxRectangle x="213.57142857142856" y="81.5735294117647" width="14.856484762579731" height="12.182317505315378" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="142" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.995;exitY=0.63;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" parent="1" source="126" target="137" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1090" y="-295" as="sourcePoint"/>
                        <mxPoint x="1167" y="-305" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="143" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.995;exitY=0.63;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" parent="1" source="128" target="140" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1090" y="-170" as="sourcePoint"/>
                        <mxPoint x="1157" y="-70" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="144" style="edgeStyle=elbowEdgeStyle;html=1;entryX=0.005;entryY=0.63;entryDx=0;entryDy=0;startArrow=classic;startFill=1;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="175" target="126" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="906" y="-304" as="sourcePoint"/>
                        <mxPoint x="979" y="-295" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="147" style="edgeStyle=elbowEdgeStyle;html=1;entryX=0.005;entryY=0.63;entryDx=0;entryDy=0;startArrow=classic;startFill=1;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="175" target="128" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="906" y="-304" as="sourcePoint"/>
                        <mxPoint x="979" y="-183" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="148" style="edgeStyle=elbowEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="140" target="100" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="149" style="edgeStyle=elbowEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="137" target="100" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1427" y="-65" as="sourcePoint"/>
                        <mxPoint x="1557" y="-295" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="185" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;elbow=vertical;" parent="1" source="152" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="640" y="-390" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="860" y="-420"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="186" value="&lt;span style=&quot;color: rgb(0, 0, 0); background-color: rgb(251, 251, 251);&quot;&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;GPUs health check before GPU selection&lt;/font&gt;&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="185" vertex="1" connectable="0">
                    <mxGeometry x="0.2117" y="3" relative="1" as="geometry">
                        <mxPoint x="58" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="152" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;GPU Health Check&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="1157" y="-440" width="263" height="45" as="geometry"/>
                </mxCell>
                <mxCell id="169" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="407" y="-126" width="326" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="170" value="&lt;h1&gt;&lt;b style=&quot;line-height: 50%;&quot;&gt;Message Broker (RabbitMQ)&lt;/b&gt;&lt;/h1&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=right;gradientColor=none;fillColor=#FFFFCC;labelPosition=left;verticalLabelPosition=middle;verticalAlign=middle;" parent="169" vertex="1">
                    <mxGeometry width="326" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="171" value="&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); text-align: center;&quot;&gt;ImageEnhancement&lt;/span&gt;&lt;br style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); text-align: center;&quot;&gt;Queue Updater&lt;/span&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="169" vertex="1">
                    <mxGeometry x="6" y="9" width="267" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="172" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.mq_message_queue;" parent="169" vertex="1">
                    <mxGeometry x="281" width="45" height="49.8" as="geometry"/>
                </mxCell>
                <mxCell id="173" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;elbow=vertical;" parent="1" source="170" target="89" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="580" y="-30" as="sourcePoint"/>
                        <mxPoint x="587" y="60" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="176" value="" style="edgeStyle=elbowEdgeStyle;html=1;startArrow=classic;startFill=1;" parent="1" source="175" target="84" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="175" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;Load-Based GPU&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;Selector (env vars)&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;font size=&quot;3&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;font size=&quot;3&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); text-wrap-mode: nowrap;&quot;&gt;Uses env vars:&amp;nbsp;&lt;/span&gt;&lt;div style=&quot;text-wrap-mode: nowrap;&quot;&gt;&lt;code data-end=&quot;2074&quot; data-start=&quot;2050&quot;&gt;&amp;lt;IP&amp;gt;_&amp;lt;process&amp;gt;_workers&lt;/code&gt;,&amp;nbsp;&lt;div&gt;&lt;code data-end=&quot;2097&quot; data-start=&quot;2076&quot;&gt;&amp;lt;IP&amp;gt;_&amp;lt;process&amp;gt;_port&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="768" y="-384.3" width="200" height="164" as="geometry"/>
                </mxCell>
                <mxCell id="189" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="40" y="-560" width="326" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="190" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.mq_message_queue;" parent="189" vertex="1">
                    <mxGeometry x="281" width="45" height="49.8" as="geometry"/>
                </mxCell>
                <mxCell id="191" value="" style="group" parent="189" vertex="1" connectable="0">
                    <mxGeometry width="326" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="192" value="&lt;h1&gt;&lt;b style=&quot;line-height: 50%;&quot;&gt;Message Broker (RabbitMQ)&lt;/b&gt;&lt;/h1&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;gradientColor=none;fillColor=#FFFFCC;labelPosition=center;verticalLabelPosition=top;verticalAlign=bottom;" parent="191" vertex="1">
                    <mxGeometry width="326" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="193" value="&lt;div style=&quot;&quot;&gt;&lt;b style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;font-size: 18px; color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;text-align: center;&quot;&gt;image_enhance_error&lt;/span&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="191" vertex="1">
                    <mxGeometry x="6" width="267" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="194" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="84" target="192" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="150" y="-416.45" as="targetPoint"/>
                        <mxPoint x="382.5000000000002" y="-236.45" as="sourcePoint"/>
                        <Array as="points">
                            <mxPoint x="203" y="-370"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="gJyRyOlRDz_UMlFg-Iyx-194" value="GPU API Container" style="swimlane;html=1;childLayout=stackLayout;horizontal=1;resizeParent=1;collapsible=0;" parent="1" vertex="1">
                    <mxGeometry x="827" y="20" width="760" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="gJyRyOlRDz_UMlFg-Iyx-195" value="start.py" style="rounded=1;whiteSpace=wrap;html=1;" parent="gJyRyOlRDz_UMlFg-Iyx-194" vertex="1">
                    <mxGeometry y="23" width="60" height="127" as="geometry"/>
                </mxCell>
                <mxCell id="gJyRyOlRDz_UMlFg-Iyx-196" value="worker_config.yml" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8f8f8;" parent="gJyRyOlRDz_UMlFg-Iyx-194" vertex="1">
                    <mxGeometry x="60" y="23" width="120" height="127" as="geometry"/>
                </mxCell>
                <mxCell id="gJyRyOlRDz_UMlFg-Iyx-197" value="restart_container()&#xa;- Launch Uvicorn&#xa;- Set GPU envs" style="rounded=1;whiteSpace=wrap;html=1;" parent="gJyRyOlRDz_UMlFg-Iyx-194" vertex="1">
                    <mxGeometry x="180" y="23" width="130" height="127" as="geometry"/>
                </mxCell>
                <mxCell id="gJyRyOlRDz_UMlFg-Iyx-198" value="FastAPI Server (main.py)" style="rounded=1;whiteSpace=wrap;html=1;" parent="gJyRyOlRDz_UMlFg-Iyx-194" vertex="1">
                    <mxGeometry x="310" y="23" width="100" height="127" as="geometry"/>
                </mxCell>
                <mxCell id="gJyRyOlRDz_UMlFg-Iyx-199" value="ModelHandler&#xa;- Load Models&#xa;- Pre/Post Processing" style="rounded=1;whiteSpace=wrap;html=1;" parent="gJyRyOlRDz_UMlFg-Iyx-194" vertex="1">
                    <mxGeometry x="410" y="23" width="120" height="127" as="geometry"/>
                </mxCell>
                <mxCell id="gJyRyOlRDz_UMlFg-Iyx-200" value="Image Downloader" style="rounded=1;whiteSpace=wrap;html=1;" parent="gJyRyOlRDz_UMlFg-Iyx-194" vertex="1">
                    <mxGeometry x="530" y="23" width="80" height="127" as="geometry"/>
                </mxCell>
                <mxCell id="gJyRyOlRDz_UMlFg-Iyx-201" value="GPU Inference (RealESRGAN/GFPGAN)" style="rounded=1;whiteSpace=wrap;html=1;" parent="gJyRyOlRDz_UMlFg-Iyx-194" vertex="1">
                    <mxGeometry x="610" y="23" width="150" height="127" as="geometry"/>
                </mxCell>
                <mxCell id="gJyRyOlRDz_UMlFg-Iyx-202" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;" parent="gJyRyOlRDz_UMlFg-Iyx-194" source="gJyRyOlRDz_UMlFg-Iyx-195" target="gJyRyOlRDz_UMlFg-Iyx-196" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="gJyRyOlRDz_UMlFg-Iyx-203" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;" parent="gJyRyOlRDz_UMlFg-Iyx-194" source="gJyRyOlRDz_UMlFg-Iyx-196" target="gJyRyOlRDz_UMlFg-Iyx-197" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="gJyRyOlRDz_UMlFg-Iyx-204" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;" parent="gJyRyOlRDz_UMlFg-Iyx-194" source="gJyRyOlRDz_UMlFg-Iyx-197" target="gJyRyOlRDz_UMlFg-Iyx-198" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="197" value="&lt;span style=&quot;text-wrap-mode: nowrap;&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 0); font-size: 18px;&quot;&gt;Update worker_config.yml file at runtime&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;text-wrap-mode: nowrap;&quot;&gt;&lt;font size=&quot;3&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;font&gt;1.&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;IP address&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-wrap-mode: nowrap;&quot;&gt;&lt;font size=&quot;3&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;&quot;&gt;2.&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;process name&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-wrap-mode: nowrap;&quot;&gt;&lt;font size=&quot;3&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;font style=&quot;&quot;&gt;3.&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;working port of FastAPI&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-wrap-mode: nowrap;&quot;&gt;&lt;font size=&quot;3&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;4.&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;worker count&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-wrap-mode: nowrap;&quot;&gt;&lt;font size=&quot;3&quot; style=&quot;color: rgb(0, 0, 0);&quot;&gt;5. gpu limit in GB for that particular process&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
                    <mxGeometry x="880" y="200" width="350" height="180" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>
